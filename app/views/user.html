<div ng-include src="'views/searchnav.html'"></div> 
  
<div id="not-found" ng-if="notfound" ng-include src="'views/not-found.html'"></div>
<div class="main-content" id="home-page">
  
  <div ng-if="!notfound" class="content" layout="column" ng-cloak>

    <div ng-include src="'views/sidenav.html'"></div>

    <div>
      <div class="user-banner" id="sub-banner">
        <div class="table-pad" id="user-page">
          <div class="row">
            <div class="col-md-9">
              <i class="fa fa-user-circle" aria-hidden="true"></i>
              <span class="reddit-name"><span class="baby-blue">/u/</span>{{ username }}</span> <span class="badge num-subs">{{ subLength }} <ng-pluralize count="subLength" when="{'1': 'subreddit', 'other': 'subreddits'}"></ng-pluralize></span>
              <div class="banner-info">
                </br>
                <p>Last seen <time-ago class="green" from-time='{{ latest[0].created * 1000 }}'></time-ago></p>
              </div>
            </div>
            <div class="col-md-3" id="user-link-col">
              <p class="banner-info"><a href="https://www.reddit.com/user/{{ username }}" class="white"><i class="fa fa-link baby-blue" aria-hidden="true"></i> Visit reddit page</a> <i class="fa fa-reddit" aria-hidden="true"></i></p>
            </div>
          </div>
        </div>
      </div>
      
      <div class="sub-table">
        <div ng-include src="'views/user-sidebar.html'"></div>
        <div class="col-md-8 col-md-pull-4 sub-rows">

          <ol class="breadcrumb">
            <li class="breadcrumb-item"><strong><i class="fa fa-arrow-left gray" aria-hidden="true"></i> <a class="purple" href="/">Back to main page</a></strong></li>
          </ol>

          <div class="row" id="table-head">
            <div class="col-md-6">
              <form name="myForm">
                <md-select ng-model="sortData.selectedSort" placeholder="{{ sortData.selectedSort.name }}" ng-change="setSortOption()">
                  <md-option ng-repeat="sort in sortData.sortOptions" ng-value="sort" ng-selected="sort.value == sortData.selectedSort.value">
                    <span class="main-color low-weight">{{ sort.name }}</span>
                  </md-option>
                </md-select>
              </form>
            </div>
            <div class="col-xs-6 option-pos" align="right">
              <form>
                <md-input-container>
                  <label for="testInput" class="main-color low-weight"><i class="glyphicon glyphicon-search" aria-hidden="true"></i> Search for a sub</label>
                  <input type="text" id="testInput"
                         ng-model="searchSub" ng-change="changeSubs(searchSub)" md-autofocus>
                </md-input-container>
                <button type="submit" style="display: none;" ng-controller="SidebarCtrl" ng-click="close()">Go!</button>
              </form>
            </div>
          </div>      
          <br>

          <div class="card" ng-repeat="subreddit in subList" id="sub-row">
            <div class="card-content row">
              <a href="#/{{ username }}/{{ subreddit }}/">
              <div class="col-md-6" id="sub-rank">
                <div class="col-md-2">
                  <span class="baby-blue"><strong>{{ 1 + $index }}</strong></span>
                </div>
                <div class="col-md-10">
                  <span id="sub-name"> /r/{{ subreddit }}</span><br>
                  <span class="gray sub-text">Last seen <span ng-bind="subs[subreddit].recent_activity | amDateFormat:'MMM Do YYYY, h:mm a'"></span></span>
                </div>
              </div>
              <div class="col-md-2 col-xs-4" id="sub-comments" align="center">
                <span class="purple number">{{ subs[subreddit].comments.length }}</span><br>
                <span class="gray sub-text">Comments</span>
              </div>
              <div class="col-md-2 col-xs-4" id="sub-submits" align="center">
                <span class="purple number">{{ subs[subreddit].submissions.length }}</span><br>
                <span class="gray sub-text">Submitted</span>
              </div>
              <div class="col-md-2 col-xs-4" id="sub-upvotes" align="center">
                <span class="number" ng-class="subs[subreddit].total_ups > 0 ? 'green' : 'orange'">{{ subs[subreddit].total_ups | number }}</span><br>
                <span class="gray sub-text">Upvotes</span>
              </div>
              </a>
            </div>
          </div>

          <div align="center" id="back-up">
            <back-top></back-top>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>